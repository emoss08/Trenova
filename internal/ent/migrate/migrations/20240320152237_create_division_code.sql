-- Create "division_codes" table
CREATE TABLE "division_codes" ("id" uuid NOT NULL, "created_at" timestamptz NOT NULL, "updated_at" timestamptz NOT NULL, "status" character varying NOT NULL DEFAULT 'A', "code" character varying NOT NULL, "description" text NOT NULL, "business_unit_id" uuid NOT NULL, "organization_id" uuid NOT NULL, "cash_account_id" uuid NULL, "ap_account_id" uuid NULL, "expense_account_id" uuid NULL, PRIMARY KEY ("id"), CONSTRAINT "division_codes_business_units_business_unit" FOREIGN KEY ("business_unit_id") REFERENCES "business_units" ("id") ON UPDATE NO ACTION ON DELETE CASCADE, CONSTRAINT "division_codes_general_ledger_accounts_ap_account" FOREIGN KEY ("ap_account_id") REFERENCES "general_ledger_accounts" ("id") ON UPDATE NO ACTION ON DELETE CASCADE, CONSTRAINT "division_codes_general_ledger_accounts_cash_account" FOREIGN KEY ("cash_account_id") REFERENCES "general_ledger_accounts" ("id") ON UPDATE NO ACTION ON DELETE CASCADE, CONSTRAINT "division_codes_general_ledger_accounts_expense_account" FOREIGN KEY ("expense_account_id") REFERENCES "general_ledger_accounts" ("id") ON UPDATE NO ACTION ON DELETE CASCADE, CONSTRAINT "division_codes_organizations_organization" FOREIGN KEY ("organization_id") REFERENCES "organizations" ("id") ON UPDATE NO ACTION ON DELETE CASCADE);
-- Create index "divisioncode_code_organization_id" to table: "division_codes"
CREATE UNIQUE INDEX "divisioncode_code_organization_id" ON "division_codes" ("code", "organization_id");
