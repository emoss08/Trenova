-- Create "customers" table
CREATE TABLE "customers" ("id" uuid NOT NULL, "created_at" timestamptz NOT NULL, "updated_at" timestamptz NOT NULL, "status" character varying NOT NULL DEFAULT 'A', "code" character varying NOT NULL, "name" character varying NOT NULL, "address_line_1" character varying NOT NULL, "address_line_2" character varying NULL, "city" character varying NOT NULL, "state" character varying NOT NULL, "postal_code" character varying NOT NULL, "has_customer_portal" boolean NOT NULL DEFAULT false, "auto_mark_ready_to_bill" boolean NOT NULL DEFAULT false, "business_unit_id" uuid NOT NULL, "organization_id" uuid NOT NULL, PRIMARY KEY ("id"), CONSTRAINT "customers_business_units_business_unit" FOREIGN KEY ("business_unit_id") REFERENCES "business_units" ("id") ON UPDATE NO ACTION ON DELETE CASCADE, CONSTRAINT "customers_organizations_organization" FOREIGN KEY ("organization_id") REFERENCES "organizations" ("id") ON UPDATE NO ACTION ON DELETE CASCADE);
-- Create index "customer_code_organization_id" to table: "customers"
CREATE UNIQUE INDEX "customer_code_organization_id" ON "customers" ("code", "organization_id");
