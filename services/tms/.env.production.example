##
## Copyright 2023-2025 Eric Moss
## Licensed under FSL-1.1-ALv2 (Functional Source License 1.1, Apache 2.0 Future)
## Full license: https://github.com/emoss08/Trenova/blob/master/LICENSE.md##

# Production Environment Configuration for Trenova TMS
# Copy this file to .env.production and update the values as needed

# =============================================================================
# DOMAIN & SSL CONFIGURATION
# =============================================================================
DOMAIN=yourdomain.com
ACME_EMAIL=admin@yourdomain.com

# =============================================================================
# PORT CONFIGURATION (Avoid conflicts with development environment)
# =============================================================================
# Database ports
DB_PORT=15432
DB_REPLICA1_PORT=15433
DB_REPLICA2_PORT=15434
PGBOUNCER_PORT=16432

# Application ports
API_PORT=13001
UI_PORT=15173

# Infrastructure ports
REDIS_PORT=16379
MINIO_API_PORT=19000
MINIO_CONSOLE_PORT=19001
KAFKA_PORT=19092
KAFKA_INTERNAL_PORT=29092
SCHEMA_REGISTRY_PORT=18081
KAFKA_CONNECT_PORT=18083
KAFKA_UI_PORT=18082
ZOOKEEPER_PORT=12181

# Reverse proxy ports
HTTP_PORT=80
HTTPS_PORT=443
METRICS_PORT=8082

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
DB_USER=postgres
DB_PASSWORD=your_strong_database_password_here
DB_NAME=trenova_go_db

# Database replication
REPLICATION_PASSWORD=your_replication_password_here

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
REDIS_PASSWORD=your_strong_redis_password_here

# =============================================================================
# MINIO (S3-COMPATIBLE STORAGE) CONFIGURATION
# =============================================================================
MINIO_ROOT_USER=your_minio_admin_user
MINIO_ROOT_PASSWORD=your_strong_minio_password_here

# =============================================================================
# APPLICATION SECRETS
# =============================================================================
# Generate with: openssl rand -base64 32
SERVER_SECRET_KEY=your_base64_encoded_secret_key_here

# =============================================================================
# AI SERVICES CONFIGURATION (Optional)
# =============================================================================
# Claude API (Anthropic)
CLAUDE_API_KEY=sk-ant-api03-your-claude-api-key-here

# OpenAI API
OPENAI_API_KEY=sk-proj-your-openai-api-key-here

# =============================================================================
# EMAIL CONFIGURATION
# =============================================================================
NOTIFICATION_EMAIL=notifications@yourdomain.com

# =============================================================================
# TRAEFIK CONFIGURATION (For Traefik deployment only)
# =============================================================================
TRAEFIK_ADMIN_USER=admin
# Generate with: echo $(htpasswd -nB admin) | sed -e s/\\$/\\$\\$/g
TRAEFIK_ADMIN_PASSWORD_HASH=admin:$$2y$$10$$hashed_password_here

# =============================================================================
# OPTIONAL: ADVANCED CONFIGURATION
# =============================================================================

# Additional environment variables for specific deployments
# Uncomment and configure as needed:

# Custom network settings
# DOCKER_NETWORK_NAME=trenova_network

# Backup configuration
# BACKUP_RETENTION_DAYS=30
# BACKUP_SCHEDULE=0 2 * * *

# Monitoring
# ENABLE_METRICS=true
# METRICS_RETENTION=30d

# Logging
# LOG_LEVEL=info
# LOG_MAX_SIZE=100m
# LOG_MAX_FILES=10

# Performance tuning
# POSTGRES_SHARED_BUFFERS=256MB
# POSTGRES_EFFECTIVE_CACHE_SIZE=1GB
# REDIS_MAX_MEMORY=512mb

# Security
# ENABLE_RATE_LIMITING=true
# MAX_REQUESTS_PER_MINUTE=100

# =============================================================================
# IMPORTANT SECURITY NOTES
# =============================================================================
# 1. Always use strong, unique passwords for all services
# 2. Change all default credentials before deploying to production
# 3. Keep this file secure and never commit it to version control
# 4. Use environment-specific values for different deployment stages
# 5. Regularly rotate passwords and API keys
# 6. Consider using a secrets management system for production deployments
# =============================================================================