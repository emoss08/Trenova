# Generated by Django 4.1.5 on 2023-01-30 17:15

import uuid

import django.db.models.deletion
import django_extensions.db.fields
from django.db import migrations, models


class Migration(migrations.Migration):
    dependencies = [
        ("organization", "0004_alter_organization_name"),
    ]

    operations = [
        migrations.CreateModel(
            name="EmailProfile",
            fields=[
                (
                    "created",
                    django_extensions.db.fields.CreationDateTimeField(
                        auto_now_add=True, verbose_name="created"
                    ),
                ),
                (
                    "modified",
                    django_extensions.db.fields.ModificationDateTimeField(
                        auto_now=True, verbose_name="modified"
                    ),
                ),
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        editable=False,
                        primary_key=True,
                        serialize=False,
                        unique=True,
                    ),
                ),
                (
                    "name",
                    models.CharField(
                        help_text="The name of the Email Profile.",
                        max_length=255,
                        verbose_name="Name",
                    ),
                ),
                (
                    "email",
                    models.EmailField(
                        help_text="The email address that will be used for outgoing email.",
                        max_length=255,
                        verbose_name="Email",
                    ),
                ),
                (
                    "protocol",
                    models.CharField(
                        blank=True,
                        choices=[
                            ("SMTP", "SMTP"),
                            ("UNENCRYPTED", "Unencrypted SMTP"),
                            ("STARTTLS", "STARTTLS"),
                        ],
                        help_text="The protocol that will be used for outgoing email.",
                        max_length=12,
                        verbose_name="Protocol",
                    ),
                ),
                (
                    "host",
                    models.CharField(
                        blank=True,
                        help_text="The host that will be used for outgoing email.",
                        max_length=255,
                        verbose_name="Host",
                    ),
                ),
                (
                    "port",
                    models.PositiveIntegerField(
                        blank=True,
                        help_text="The port that will be used for outgoing email.",
                        null=True,
                        verbose_name="Port",
                    ),
                ),
                (
                    "username",
                    models.CharField(
                        blank=True,
                        help_text="The username that will be used for outgoing email.",
                        max_length=255,
                        verbose_name="Username",
                    ),
                ),
                (
                    "password",
                    models.CharField(
                        blank=True,
                        help_text="The password that will be used for outgoing email.",
                        max_length=255,
                        verbose_name="Password",
                    ),
                ),
                (
                    "organization",
                    models.ForeignKey(
                        help_text="The organization that the email profile belongs to.",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="email_profiles",
                        to="organization.organization",
                        verbose_name="Organization",
                    ),
                ),
            ],
            options={
                "verbose_name": "Email Profile",
                "verbose_name_plural": "Email Profiles",
                "ordering": ["email"],
            },
        ),
        migrations.CreateModel(
            name="EmailControl",
            fields=[
                (
                    "created",
                    django_extensions.db.fields.CreationDateTimeField(
                        auto_now_add=True, verbose_name="created"
                    ),
                ),
                (
                    "modified",
                    django_extensions.db.fields.ModificationDateTimeField(
                        auto_now=True, verbose_name="modified"
                    ),
                ),
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        editable=False,
                        primary_key=True,
                        serialize=False,
                        unique=True,
                    ),
                ),
                (
                    "billing_email_profile",
                    models.ForeignKey(
                        blank=True,
                        help_text="The email profile that will be used for billing emails.",
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="billing_email_control",
                        to="organization.emailprofile",
                        verbose_name="Billing Email Profile",
                    ),
                ),
                (
                    "organization",
                    models.OneToOneField(
                        help_text="The organization that the email control belongs to.",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="email_control",
                        to="organization.organization",
                        verbose_name="Organization",
                    ),
                ),
            ],
            options={
                "verbose_name": "Email Control",
                "verbose_name_plural": "Email Controls",
            },
        ),
    ]
